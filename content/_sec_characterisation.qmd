# Characterisation

The small signal ac analysis and transcient analysis for ideal, theoretical and practical scenario is plotted here.

The plots are made in python with the help of `matplotlib` package of python. 

## Small signal ac analysis

### ideal circuit

```{python}

```
### real circuit
### practical circuit
```{python}

```

## Transcient Analysis


---
title: "Operational Amplifiers: Ideal Characteristics"
format: html
---

# Operational Amplifiers

Operational amplifiers (op amps) are fundamental building blocks in analog circuit design, widely used for amplification, filtering, signal conditioning, and mathematical operations. Their design and layout involve both ideal and non-ideal considerations to ensure optimal performance in practical applications.

## Ideal Op Amp Characteristics

Ideal op amps are characterized by the following assumptions:

- **Infinite open-loop gain (A)($A \to \infty$) :**  
  The output voltage is proportional to the difference between the input voltages, with an infinitely large gain.

- **Infinite input resistance (Rid)($R_{id} \to \infty$):**  
  No current flows into the input terminals ($i_{+} = i_{-} = 0$).

- **Zero output resistance (Ro)($R_{o} = 0$):**   
  The output can drive any load without signal loss.


- **Infinite bandwidth:**  
  No frequency-dependent limitations.

- **Perfect common-mode rejection (CMRR):**  
  Only the differential input signal is amplified, while common-mode signals are rejected.
  ---


### Assumptions for Analysis

- Differential input voltage is zero (virtual short):  
  $v_{id} = 0$

- Input currents are zero:  
  $i_{+} = i_{-} = 0$

## Common Configurations

### Inverting Amplifier

- **Gain:**  
  $A_v = -\dfrac{R_2}{R_1}$

- **Input resistance:**  
  $R_{in} = R_1$

- **Output resistance:**  
  $R_{out} = 0$

---

### Non-Inverting Amplifier

- **Gain:**  
  $A_v = 1 + \dfrac{R_2}{R_1}$

- **Input resistance:**  
  $R_{in} = \infty$

- **Output resistance:**  
  $R_{out} = 0$

---

### Unity-Gain Buffer (Voltage Follower)

- **Gain:**  
  $A_v = +1$

- **Purpose:**  
  Used for impedance transformation.

## Design Considerations

- Trade-offs between gain, bandwidth, and stability
- Impact of finite gain and bandwidth on performance (e.g., phase lag/lead)
- Noise and power dissipation in practical designs

---



# The Low-Pass Amplifier

Circuits that amplify signals over a range of frequencies—including DC—form an essential class known as **low-pass amplifiers**. Most operational amplifiers (op-amps) inherently function as low-pass amplifiers.

The simplest low-pass amplifier circuit can be described by the **single-pole transfer function**:

$$
A_v(s) = \frac{A_o \, \omega_H}{s + \omega_H} = \frac{A_o}{1 + \frac{s}{\omega_H}}
$$

where:

- $A_o$ is the low-frequency gain of the amplifier.
- $\omega_H$ is the cutoff (or upper −3 dB) angular frequency of the amplifier.


### Magnitude Response

To analyze the frequency response, substitute $s = j\omega$, yielding:

$$
\left| A_v(j\omega) \right| = \frac{A_o \, \omega_H}{\sqrt{\omega^2 + \omega_H^2}}
$$

Expressed in decibels (dB), the magnitude becomes:

$$
\left| A_v(j\omega) \right|_{dB} = 20 \log \left( A_o \, \omega_H \right) - 20 \log \sqrt{\omega^2 + \omega_H^2}
$$

At low frequencies ($\omega \ll \omega_H$), the gain is approximately constant:

$$
\left| A_v(j\omega) \right| \approx A_o
$$

Thus, the amplifier provides a flat response from DC up to near the cutoff frequency. The corresponding magnitude in decibels is:

$$
\left| A_v(j\omega) \right|_{dB} \approx 20 \log A_o
$$

At high frequencies ($\omega \gg \omega_H$), the gain decreases with increasing frequency:

$$
\left| A_v(j\omega) \right| \approx \frac{A_o \, \omega_H}{\omega}
$$

Converting this to dB:

$$
\left| A_v(j\omega) \right|_{dB} \approx 20 \log A_o - 20 \log \left( \frac{\omega}{\omega_H} \right)
$$

Hence, above $\omega_H$, the magnitude decreases at a rate of **−20 dB per decade**. The frequency $\omega_H$ is called the **upper cutoff frequency**, or **−3 dB frequency**, since at $\omega = \omega_H$:

$$
\left| A_v(j\omega_H) \right| = \frac{A_o}{\sqrt{2}}
$$

or equivalently:

$$
\left| A_v(j\omega_H) \right|_{dB} = 20 \log A_o - 3 \text{ dB}
$$

This frequency is also known as the **upper half-power point**, as the output power drops to half of its low-frequency value.

### Bandwidth

The **bandwidth (BW)** of a low-pass amplifier is defined as the frequency range over which the gain remains approximately constant (within 3 dB). For this single-pole low-pass amplifier:

$$
BW = \omega_H \text{ rad/s}
$$

or, in hertz:

$$
BW = f_H = \frac{\omega_H}{2\pi} \text{ Hz}
$$


### Gain-Bandwidth Product

A crucial figure of merit for amplifiers is the **gain-bandwidth product (GBW)**, given by:

$$
GBW = A_o \, \omega_H
$$

For a single-pole low-pass amplifier, the GBW also corresponds to the **unity-gain frequency** ($\omega_T$), the frequency where the amplifier’s magnitude drops to unity gain (0 dB). From the high-frequency approximation:

$$
\left| A_v(j\omega_T) \right| = 1
$$

Thus:

$$
\omega_T = A_o \, \omega_H
$$


### Phase Response

The phase response is equally important, particularly for stability in feedback systems. Substituting $s = j\omega$ into the transfer function:

$$
A_v(j\omega) = \frac{A_o}{1 + j \, \dfrac{\omega}{\omega_H}}
$$

The resulting phase angle is:

$$
\angle A_v(j\omega) = -\tan^{-1} \left( \frac{\omega}{\omega_H} \right)
$$

The DC phase angle depends on the sign of $A_o$:

- $0^\circ$ if $A_o$ is positive.
- $180^\circ$ if $A_o$ is negative.

Key phase values occur around the cutoff frequency $\omega_H$:

- One decade below $\omega_H$, phase ≈ $5.7^\circ$.
- At $\omega_H$, phase shift = $45^\circ$.
- One decade above $\omega_H$, phase ≈ $84.3^\circ$.
- Two decades above or below $\omega_H$, the phase approaches asymptotes of $0^\circ$ and $90^\circ$.

The phase shift of more complex circuits with multiple poles and zeros can be computed as sums and differences of inverse tangent terms. In practice, plotting these responses or computing them numerically (e.g., with MATLAB or calculators) simplifies the analysis.

---

# The High-Pass Amplifier

A second basic single-pole transfer function is the high-pass characteristic, which includes a single pole plus a zero at the origin. We often find this function combined with the low-pass function to form band-pass amplifiers. In fact, a true high-pass characteristic is impossible to obtain practically, since it would require infinite bandwidth. Instead, high-pass behavior can be approximated over a finite frequency range.

The transfer function for an ideal single-pole high-pass amplifier can be written as:

$$
A_v(s) = \frac{A_o \, s}{s + \omega_L} = \frac{A_o}{1 + \frac{\omega_L}{s}}
$$

For \( s = j\omega \), the magnitude of this transfer function is:

$$
\left| A_v(j\omega) \right| 
= \frac{A_o \, \omega}{\sqrt{\omega^2 + \omega_L^2}}
= A_o \, \left( \frac{1}{\sqrt{1 + \left( \frac{\omega_L}{\omega} \right)^2}} \right)
$$

The Bode magnitude plot for this function shows that the gain of the amplifier is constant for all frequencies above the lower cutoff frequency \( \omega_L \). 

At frequencies well above \( \omega_L \) (i.e., \( \omega \gg \omega_L \)), the magnitude approximates to:

$$
\left| A_v(j\omega) \right| \approx A_o
$$

or, in decibels:

$$
\left| A_v(j\omega) \right|_{\text{dB}} \approx 20 \log A_o
$$

Hence, for \( \omega > \omega_L \), the gain is constant at \( A_o \).

At frequencies well below \( \omega_L \) (i.e., \( \omega \ll \omega_L \)), the gain is approximated as:

$$
\left| A_v(j\omega) \right| \approx \frac{A_o \, \omega}{\omega_L}
$$

Converting this expression to decibels yields:

$$
\left| A_v(j\omega) \right|_{\text{dB}} \approx 20 \log A_o + 20 \log \left( \frac{\omega}{\omega_L} \right)
$$

Thus, below \( \omega_L \), the gain increases at a rate of **+20 dB per decade**.

At the critical frequency \( \omega = \omega_L \), the gain is:

$$
\left| A_v(j\omega_L) \right| = \frac{A_o}{\sqrt{2}}
$$

or equivalently:

$$
\left| A_v(j\omega_L) \right|_{\text{dB}} = 20 \log A_o - 3 \, \text{dB}
$$

The frequency \( \omega_L \) is also called the **lower cutoff frequency**, **lower −3 dB frequency**, or the **lower half-power point**.

The high-pass amplifier provides approximately uniform gain at all frequencies above \( \omega_L \). Its theoretical bandwidth is infinite:

$$
\text{BW} = \infty - \omega_L = \infty
$$

### Phase Response of the High-Pass Amplifier

The phase response of the high-pass amplifier is:

$$
\angle A_v(j\omega) = +90^\circ - \tan^{-1} \left( \frac{\omega}{\omega_L} \right)
$$

This phase expression is similar to that of the low-pass amplifier, except for the **+90° phase shift** introduced by the zero at the origin (the \( s \) term in the numerator).

---

# Band-Pass Amplifiers

Many amplifiers combine low-pass and high-pass characteristics to form a **band-pass amplifier**. For example, audio amplifiers are often designed to pass frequencies only in the range of 20 Hz to 20 kHz. In this case, the lower and upper cutoff frequencies \( f_L \) and \( f_H \) would be set to 20 Hz and 20 kHz, respectively. The region of constant gain between \( \omega_L \) and \( \omega_H \) is referred to as the **midband**.

The transfer function for a basic band-pass amplifier is:

$$
A_v(s) = \frac{A_o \, s \, \omega_H}{(s + \omega_L)(s + \omega_H)}
$$

Rewriting this:

$$
A_v(s) = A_o \cdot \frac{s}{s + \omega_L} \cdot \frac{1}{\frac{s}{\omega_H} + 1}
$$

Within the midband frequency range \( \omega_L \le \omega \le \omega_H \), the magnitude response is approximately:

$$
\left| A_v(j\omega) \right| \approx A_o
$$

So, \( A_o \) is called the **midband gain**:

$$
A_{\text{mid}} = A_o
$$

The exact magnitude expression is:

$$
\left| A_v(j\omega) \right| 
= \frac{A_o \, \omega \, \omega_H}{\sqrt{ \left( \omega^2 + \omega_L^2 \right) \left( \omega^2 + \omega_H^2 \right) }}
$$

Alternatively:

$$
\left| A_v(j\omega) \right| 
= A_{\text{mid}} \cdot 
\frac{1}{\sqrt{ \left( 1 + \frac{\omega_L^2}{\omega^2} \right) \left( 1 + \frac{\omega^2}{\omega_H^2} \right) }}
$$

At the cutoff frequencies \( \omega_L \) and \( \omega_H \):

$$
\left| A_v(j\omega_L) \right| = \left| A_v(j\omega_H) \right| = \frac{A_o}{\sqrt{2}}
$$

or:

$$
\left| A_v(j\omega_{L,H}) \right|_{\text{dB}} = 20 \log A_o - 3 \, \text{dB}
$$

The bandwidth of the band-pass amplifier is defined as:

$$
\text{BW} = f_H - f_L = \frac{\omega_H - \omega_L}{2\pi}
$$

### Phase Response of the Band-Pass Amplifier

The phase response for the band-pass amplifier is:

$$
\angle A_v(j\omega) = +90^\circ - \tan^{-1} \left( \frac{\omega}{\omega_L} \right) - \tan^{-1} \left( \frac{\omega}{\omega_H} \right)
$$

---




